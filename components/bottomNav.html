<!-- ðŸ”¸ Bottom Navigation Bar (Pill style) -->
<nav id="bottom-nav">
  <div class="bottom-pill" role="tablist" aria-label="Primary Navigation">
    <!-- Activity -->
    <div class="pill-item" data-key="activity">
      <button id="activityBtn" type="button" title="Activity" class="pill-btn" aria-label="Activity">
        <div class="icon-wrap"><i data-lucide="newspaper"></i></div>
        <span class="label">Activity</span>
      </button>
    </div>

    <!-- Entertainment -->
    <div class="pill-item" data-key="entertainment">
      <button id="entertainmentBtn" type="button" title="Entertainment" class="pill-btn" aria-label="Entertainment">
        <div class="icon-wrap"><i data-lucide="play"></i></div>
        <span class="label">Entertainment</span>
      </button>
    </div>

    <!-- Search -->
    <div class="pill-search">
      <div class="search-wrapper ai-search relative flex items-center">
        <input type="text" id="search" placeholder="Search..." autocomplete="off" class="ai-input rounded-full px-4 py-2 pr-12 bg-zinc-800 text-yellow-300 placeholder-yellow-600 focus:outline-none border border-yellow-500/60 focus:border-yellow-400 transition w-full" aria-label="Map search" />
        <button id="filterBtn" type="button" title="Filter" onclick="window.toggleFilterPanel && window.toggleFilterPanel()" class="absolute right-1.5 h-8 w-8 flex items-center justify-center rounded-full border border-yellow-500 bg-black text-yellow-400 hover:bg-yellow-500 hover:text-black transition">
          <i data-lucide="sliders-horizontal"></i>
        </button>
        <div id="suggestions" class="absolute bottom-[105%] left-0 w-full bg-black z-[9999] pointer-events-auto hidden border border-yellow-600 rounded-xl shadow-lg text-sm text-yellow-300 overflow-hidden"></div>
      </div>
    </div>

    <!-- Marketplace -->
    <div class="pill-item" data-key="marketplace">
      <button id="marketplaceBtn" type="button" title="Marketplace" class="pill-btn" aria-label="Marketplace">
        <div class="icon-wrap"><i data-lucide="store"></i></div>
        <span class="label">Marketplace</span>
      </button>
    </div>

    <!-- Profile -->
    <div class="pill-item" data-key="profile">
      <button id="profileToggle" type="button" title="Profile" class="pill-btn" aria-label="Profile">
        <div class="icon-wrap"><i data-lucide="user"></i></div>
        <span class="label">Profile</span>
      </button>
    </div>
  </div>
</nav>


<!-- ðŸ”¸ Floating Action (Multiâ€‘Picker) -->
<div id="floatingLocateBtn" class="fixed bottom-16 right-4 z-[100100] flex flex-col items-end select-none relative">
  <!-- Speedâ€‘dial menu (hidden by default) -->
  <div id="fabMenu" class="absolute bottom-14 right-0 translate-y-0 flex flex-col items-end gap-2 hidden">
    <!-- Top: Add Location (+) -->
    <button data-action="add" class="w-10 h-10 rounded-full bg-white text-black border-2 border-yellow-500 shadow-md flex items-center justify-center hover:scale-105 transition" title="Add Location">
      <span class="fab-icon"><i data-lucide="plus"></i></span>
    </button>
    <!-- Locate (only shows when not selected as main) -->
    <button data-action="locate" class="w-10 h-10 rounded-full bg-white text-black border-2 border-yellow-500 shadow-md flex items-center justify-center hover:scale-105 transition" title="Locate">
      <span class="fab-icon"><i data-lucide="crosshair"></i></span>
    </button>
    <!-- Light/Dark mode toggle -->
    <button data-action="theme" class="w-10 h-10 rounded-full bg-white text-black border-2 border-yellow-500 shadow-md flex items-center justify-center hover:scale-105 transition" title="Theme">
      <span class="fab-icon"><i data-lucide="sun"></i></span>
    </button>
    <!-- FAQ (speech box with ?) -->
    <button data-action="faq" class="w-10 h-10 rounded-full bg-white text-black border-2 border-yellow-500 shadow-md flex items-center justify-center hover:scale-105 transition" title="FAQ">
      <span class="fab-icon" style="font-weight:700; font-size:16px;">?</span>
    </button>
    <!-- Report an issue (flag) -->
    <button data-action="report" class="w-10 h-10 rounded-full bg-white text-black border-2 border-yellow-500 shadow-md flex items-center justify-center hover:scale-105 transition" title="Report">
      <span class="fab-icon"><i data-lucide="flag"></i></span>
    </button>
    <!-- Add an event (calendar) -->
    <button data-action="event" class="w-10 h-10 rounded-full bg-white text-black border-2 border-yellow-500 shadow-md flex items-center justify-center hover:scale-105 transition" title="Add Event">
      <span class="fab-icon"><i data-lucide="calendar-plus"></i></span>
    </button>
  </div>

  <!-- Main FAB -->
  <div id="fabMain" role="button" tabindex="0" class="relative w-12 h-12 rounded-full shadow-xl text-xl font-bold bg-black border border-yellow-500 hover:bg-yellow-600 text-yellow-400 flex items-center justify-center cursor-pointer">
    <span id="fabMainIcon" class="fab-icon"><i data-lucide="crosshair"></i></span>
    <!-- Small corner toggle nub -->
    <div id="fabCorner" class="absolute -bottom-1 -right-1 w-4 h-4 rounded-full bg-yellow-500 text-black border border-yellow-700 shadow flex items-center justify-center text-[8px] leading-none cursor-pointer" title="More">
      <i data-lucide="chevrons-up"></i>
    </div>
  </div>
</div>
